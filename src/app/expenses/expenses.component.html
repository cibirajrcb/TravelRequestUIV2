<app-header></app-header>
<section class="h-100 bg-light">
    <div class="container py-5 h-100">
        <div class="row d-flex justify-content-center align-items-center h-100">
            <div class="col">
                <div class="d-flex justify-content-end pt-3">
                    <button type="button" (click)="AddNewExpense()" class="btn btn-primary btn-lg">
                        New Expense
                    </button>
                    <button type="button" (click)="ShowAllExpenses()" class="btn btn-warning btn-lg ms-2">
                        Show all Expenses
                    </button>
                </div>
                <div *ngIf="isCreateExpense" class="card card-registration my-4">
                    <div class="row g-0">
                        <div class="col-xl-6 d-none d-xl-block">
                            <img src="https://mdbootstrap.com/img/Photos/new-templates/bootstrap-registration/img4.webp"
                                alt="Sample photo" class="img-fluid" style="
                  border-top-left-radius: 0.25rem;
                  border-bottom-left-radius: 0.25rem;
                " />
                        </div>
                        <div class="col-xl-6">
                            <div class="card-body p-md-5 text-black">
                                <h3 class="mb-5 text-uppercase">Expenses form</h3>

                                <form [formGroup]="expenseForm">
                                    <div class="form-outline mb-4">
                                        <label class="form-label" for="travelTequestId">Travel Request ID</label>
                                        <select name="travelTequestId" id="travelTequestId" class="form-control"
                                            formControlName="travelTequestId" placeholder="Select Travel Request">
                                            <option *ngFor="let item of travelRequestData" [value]="item.requestID">
                                               {{item.requestID}} - {{ item.createdBy }}
                                            </option>
                                        </select>
                                        <!-- <input type="text" id="form3Example8" class="form-control form-control-lg"
                          formControlName="department" placeholder="Enter Your department" /> -->
                                    </div>
                                    <div class="form-outline mb-4">
                                        <label class="form-label" for="expenseType">Expenses Type</label>
                                        <select name="expenseType" id="expenseType" class="form-control"
                                            formControlName="expenseType" placeholder="Select Expense Type">
                                            <option *ngFor="let item of expenseTypes" [value]="item.description">
                                                {{ item.description }}
                                            </option>
                                        </select>
                                    </div>

                                    <div class="form-outline mb-4">
                                        <label class="form-label" for="Amount">Amount</label>
                                        <input type="number" id="Amount" class="form-control form-control-lg"
                                            formControlName="amount" placeholder="Enter Amount" />
                                    </div>
                                    <div class="form-outline mb-4">
                                        <label class="form-label" for="Amount">Description</label>
                                        <input type="text" id="description" class="form-control form-control-lg"
                                            formControlName="description" placeholder="Enter Description" />
                                    </div>
                                    <div class="form-outline mb-4 col-6">
                                        <label for="expenseDate">Expense Date </label>
                                        <input class="form-control" type="date" id="expenseDate" name="expenseDate"
                                            formControlName="expenseDate" />
                                    </div>


                                    <div class="d-flex justify-content-end pt-3">
                                        <button type="button" (click)="Clear()" class="btn btn-light btn-lg">
                                            Reset all
                                        </button>
                                        <button type="button" (click)="onSubmit(expenseForm)"
                                            class="btn btn-warning btn-lg ms-2">
                                            Submit form
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <div *ngIf="isShowAll" class="my-5">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Expense ID</th>
                                <th>Request ID</th>
                                <th>Expense Type</th>
                                <th>Amount</th>
                                <th>Description</th>
                                <th>Date</th>

                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let expense of expenseData">
                                <td>{{ expense.expenseID }}</td>
                                <td>{{ expense.requestID }}</td>
                                <td>{{ expense.expensesType }}</td>
                                <td>{{ expense.amount }}</td>
                                <td>{{ expense.description }}</td>
                                <td>{{ expense.date }}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</section>